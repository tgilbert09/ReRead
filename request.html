<!doctype html>
<html class="no-js" lang="">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ReRead</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/request.css">
  <meta name="description" content="">

  <meta property="og:title" content="">
  <meta property="og:type" content="">
  <meta property="og:url" content="">
  <meta property="og:image" content="">
  <meta property="og:image:alt" content="">

  <link rel="apple-touch-icon" sizes="180x180" href="./apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="./favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="./favicon-16x16.png">
  <link rel="manifest" href="./site.webmanifest">
  <link rel="mask-icon" href="./safari-pinned-tab.svg" color="#fcfbf8">
  <meta name="msapplication-TileColor" content="#ffc40d">
  <meta name="theme-color" content="#fcfbf8">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
    rel="stylesheet">

  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,300,0,0"
    rel="stylesheet">
  <meta name="theme-color" content="#fafafa">
</head>

<body>
  <div class="topnav">
    <a href="./index.html"><img id="ReRead_logo" src="./ReReadLogo_Regular.svg" alt="ReRead's logo">
      <h1>ReRead</h1>
    </a>
    <a href="javascript:void(0);" class='icon' onclick="myFunction()">
      <div class="line"></div>
      <div class="line"></div>
    </a>
    <div class="split" id="myTopnav">
      <a href="./index.html">H<span>om</span>e</a>
      <a href="./request.html">R<span>eques</span>t</a>
      <a href="./blog.html">B<span>lo</span>g</a>
    </div>
  </div>

  <div class="bookRequest">
    <div class="widthLimit">
      <h2>Request a book...</h2>
      <a href="./blogs/howReReadWorks.html">Learn about how ReRead works ></a>
      <form
        action="https://docs.google.com/forms/u/0/d/e/1FAIpQLScFMnCyO7QgUGV63ZIh0Lfrq7NRD2meC10ZqJc44TG-nJQA3w/formResponse"
        autocomplete="on">
        <label for="book">Book title & author or ISBN</label>
        <input type="text" id="book" name="entry.1670138469" placeholder="Book title & author or ISBN"
          autocomplete="off">
        <br><br>
        <label for="email">Email</label>
        <input type="email" id="email" name="entry.1176417087" placeholder="Email"><br>
        <br>
        <p>You will receive an email when your book is found!</p>

        <p>There is a £1 reservation fee payable if you wish to reserve your book at the charity shop.</p>
        <p>Limited to Bristol.</p>
        <input type="submit" value="Send">
      </form>
    </div>
  </div>


  <div class="browseBooks">
    <h2>Browse local books!</h2>
    <p>Below is in development...</p>
    <div class="search-container">
      <form action="/action_page.php">
        <input type="text" placeholder="Search books.." name="search">
      </form>
      <table id="bookList"></table>
     <!-- <table> 
       <tr> 
         <th>Title</th> 
         <th>Author</th> 
         <th>Location</th> 
       </tr> 
       <tr> 
         <td>Harry Potter</td> 
         <td>J. K. Rowling</td> 
         <td>British Heart Foundation - Whiteladies Road</td> 
       </tr> 
       <tr> 
         <td>Jane Eyre</td> 
         <td>Charlotte Brontë</td> 
         <td>Oxfam - Cotham Hill</td> 
       </tr> 
       <tr> 
         <td>Matilda</td> 
         <td>Roald Dahl</td> 
         <td>Oxfam - Park Street</td> 
       </tr>
     </table>  -->
  </div>



  <script>
    function myFunction() {
      var x = document.getElementById("myTopnav");
      if (x.className === "split") {
        x.className += " responsive";
      } else {
        x.className = "split";
      }
    }
  </script>

  <script>
     const bookList = document.getElementById("bookList");
     async function speakToD1() {
        console.log("Running speakToD1.");
        const response = await fetch('/request/bookdatabase');
        console.log("response");
        console.log(response);
        console.log("books");
        const books = await response.json();
        console.log(books);
        return books;
}
books = speakToD1();

        // Create the table header row
const headerRow = document.createElement('tr');

// Create and append header cells
const headers = ['Title', 'Author', 'Location'];
headers.forEach(headerText => {
    const headerCell = document.createElement('th');
    headerCell.textContent = headerText;
    headerRow.appendChild(headerCell);
});

// Append the header row to the table
bookList.appendChild(headerRow);



//// Create and append table rows
//books.forEach(book => {
//    const row = document.createElement('tr');
//
//    // Create and append cells for each column in the row
//    Object.values(book).forEach(text => {
//        const cell = document.createElement('td');
//        cell.textContent = text;
//        row.appendChild(cell);
//    });
//
//    // Append the row to the table
//    table.appendChild(row);
//});
  </script>
</body>

</html>
